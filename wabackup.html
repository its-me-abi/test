<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
    <style>

        button {
            padding: 15px 30px;
            font-size: 1.2em;
            cursor: pointer;
            background-color: green;
            color: white;
            border: none;
            border-radius: 5px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: mediumseagreen;
        }
        button.color {
            background-color: green;
            color: white;
        }
        button.color:hover {}
        html {
            overflow-y: scroll; /* Or scrollbar-gutter: stable; */
        }
        body {
            font-family: 'Roboto', sans-serif;
        }


    </style>
</head>
<body>
<div align="center">

    <h2 style="color: green">Whatsapp web contacts exporter </h2>
    <h4>Copy this link below and save it as bookmark,</h4>
    <h4>open web.whatsapp.com and login</h4>
    <h4>click on this bookmarklet</h4>

now a json file willbe downloaded,it contains all contacts,later you can convert it to vcf
<br>
    it works without an internet connection.

<textarea hidden="true" id="myInputField">
</textarea>
</br>
<button  onclick="copy()">COPY </button>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js">
</script>

<script >
    toastr.options = {
        "closeButton": false,
        "debug": false,
        "newestOnTop": false,
        "progressBar": false,
        "positionClass": "toast-top-right",
        "preventDuplicates": false,
        "onclick": null,
        "showDuration": "300",
        "hideDuration": "1000",
        "timeOut": "2000", // Changed to 2000 milliseconds for 2 seconds
        "extendedTimeOut": "1000",
        "showEasing": "swing",
        "hideEasing": "linear",
        "showMethod": "fadeIn",
        "hideMethod": "fadeOut"
    };

    function copy() {
        const textToCopy = document.getElementById('myInputField').value
        copyTextToClipboardModern(textToCopy);
        toastr["success"]("", "copied to clipboard")
    }
    function copyTextToClipboardModern(text) {
        // Check if the Clipboard API is available
        if (navigator.clipboard && navigator.clipboard.writeText) {
            navigator.clipboard.writeText(text)
                .then(() => {
                    console.log('Text successfully copied to clipboard ');
                })
                .catch(err => {
                    console.error('Error copying text to clipboard (Clipboard API):', err);
                    // Fallback to the older method if Clipboard API fails for some reason
                    copyTextToClipboardLegacy(text);
                });
        } else {
            console.warn('Clipboard API not available. Falling back to legacy method.');
            copyTextToClipboardLegacy(text);
        }
    }
</script>
</body>
</html>
